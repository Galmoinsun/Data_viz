<!DOCTYPE html>
<html>
  <head>
    <title>My Gapminder</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="css/gapminder.css" />
  </head>
  <body>
    <!-- pretty ugly for now, but wait for CSS! -->
    <header>
      <img src="img/gapminder.png" alt="ENSAI logo" />
      <h1>Tutorial #3 — Datavisualisation with JavaScript</h1>
    </header>

    <section id="sidepannel">
      <div>
        <h2>What is Gapminder?</h2>
        <p>
          <a href="https://www.gapminder.org">Gapminder</a> is an online-tool
          developped by <em>The Gapminder fundation</em>. It provides an simple
          interface enabling anyone to explore the evolution of countries
          throughout the 20th century and to reproduce the optimistic and
          entertaining narratives of <strong>Hans Rosling</strong>, funder of
          the project. You may wish to watch Rosling's
          <a href="https://www.ted.com/search?cat=videos&q=rosling"
            >multiple TED talks</a
          >.
          <br />
          In some regard, Rosling's Gapminder objectives are very similar to the
          ones of Max Roser's
          <a href="https://ourworldindata.org/">Our World in Data</a>.
        </p>
      </div>
      <div>
        <h2>Customize your graph</h2>
        <div id="controls">
          <span class="control-label">Y-axis</span>
          <br />
          <select id="y-axis-button" class="control-unit">
            <option value="life_expectancy">Life expectancy</option>
            <option value="co2_emissions">CO² Emissions</option>
          </select>
          <br />
          <span class="control-label">Years</span>
          <!--<span class="timer"> Year</span>-->
          <br />
          <span class="control-unit">
            <button id="play">▷</button>
            <button id="pause">||</button
            ><!-- Q1.9.-->
            <span id="year-min" class="year-label">1950</span>
            <input
              id="year"
              type="range"
              min="1950"
              max="2010"
              value="1950"
              step="1"
            />
            <span id="year-max" class="year-label">2010</span>
          </span>
          <br />
          <button
            id="reinitialize"
            onclick="reinitialize_timer()"
            src="js/gapminder.js"
          >
            Reinitialize
          </button>
        </div>
      </div>
    </section>

    <section id="content">
      <svg id="my_graph">
        <g id="y-axis"></g>
        <g id="x-axis"></g>
        <g id="countries"></g>
      </svg>
    </section>

    <footer>
      <img src="img/ensai.png" alt="Gapminder logo" />
      <p>
        This reproduction of Gapminder is part of a tutorial course at ENSAI,
        2019-2020, by Arthur Katossky. CC-BY-SA.
      </p>
      <p>
        <strong>Data source:</strong>
        <a href="https://www.gapminder.org/data">Gapminder</a
        ><!-- Q1.10.-->
      </p>
    </footer>

    <script type="text/javascript" src="js/gapminder.js"></script>
  </body>
</html>

<!-- 

# pts
1 2   Deactivate the play button while playing. Deactivate the pause button while on pause.
-> Fait
2	2	  Add the current year somewhere, close to the button or in one of the corners of the chart. This provides a feedback when we move the slider.
-> en cours
3	3	  The y-axis selector should have a "none" option ; when selected, countries agglutinate on a horizontal line at the center of the graph. (Nice with #10.)
4	3	  Generalize the code, assuming that you don't know the time extent of the data.
5	5	  The graph's width should resize anytime the user resizes its window.
6	6	  If the labels fit, they should be inside the dot, otherwise it should be under.
7	6	  In order to hint your users that they can interact with the dots, animate a dot randomly every 10 to 30 secs (like a gentle bouncing).
8	7	  Make the range of the y axis adapt to the data, with transitions. Neither ends of the shown range should ever decrease. (It is acceptable to extend the range from 70 years to 80 years, but not to later move it back to 70 again.)
9	12  A selected contry should have its trajectory over time visible as a line. You will not pay attention to missing data but you will make sure that the line stay behind the dots, not to mess our overall reading of the dots. You may want to use d3.line (for building lines) and d3.zip (to reshape the data).
10 12	Prevent the countries from colliding into each other. You will use d3.force.
11 13	The labels should be draggable : one should be able to drag them around the circle, at a constant radius. Once moved, they should stay at this position when the graph is animated. You'll have to use d3.drag.
-->
